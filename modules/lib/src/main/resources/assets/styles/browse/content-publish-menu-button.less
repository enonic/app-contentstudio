.content-publish-menu {
  margin-left: auto;

  @media screen and (max-width: 720px) {
    border-left: 1px solid @admin-bg-light-gray;
    border-right: none;
    margin-right: 0;
  }

  .action-button {
    display: none !important;
  }

  @media screen and (min-width: 720px) {
    .@{_COMMON_PREFIX}dropdown-handle {
      margin-left: -10px;
    }
  }

  &.no-item {
    .action-button.create-issue-action-button {
      .menu-action-button(@admin-button-blue2);
    }

    .dropdown-toggler(@admin-button-blue2);

    @media screen and (min-width: 720px) {
      .xp-admin-common-dropdown-handle {
        display: none;
      }
    }
  }

  &.publish {
    .publish-action-button {
      .menu-action-button(@admin-green);
    }

    .dropdown-toggler(@admin-green);
  }

  &.publish-tree {
    .publish-tree-action-button {
      .menu-action-button(@admin-green);
    }

    .dropdown-toggler(@admin-green);
  }

  &.mark-as-ready {
    .mark-as-ready-action-button {
      .menu-action-button(@admin-font-gray2);
    }

    .dropdown-toggler(@admin-font-gray2);
  }

  &.unpublish {
    .unpublish-action-button {
      .menu-action-button(@admin-font-gray2);
    }

    .dropdown-toggler(@admin-font-gray2);
  }

  &.request-publish {
    .request-publish-action-button {
      .menu-action-button(@admin-font-gray2);
    }

    .dropdown-toggler(@admin-font-gray2);
  }

  &.create-issue {
    .create-issue-action-button {
      .menu-action-button(@admin-button-blue2);
    }

    .dropdown-toggler(@admin-button-blue2);
  }

  &.open-request {
    .open-request-action-button {
      .menu-action-button(@admin-green);
    }

    .dropdown-toggler(@admin-green);
  }

  .progress-bar {
    display: none;
  }

  .menu {
    right: 0;
    top: @toolbar-height;
    width: auto;
    max-width: 200px;
  }
}

.menu-action-button(@color) {
  @media screen and (min-width: 720px) {
    display: flex !important;
  }

  @media screen and (max-width: 720px) {
    display: none !important;
  }

  span {
    //line-height: @toolbar-height - 2px;
    text-transform: uppercase;
    color: @color;
    font-family: sans-serif, "Open Sans", Helvetica;
  }

  &:not([disabled]):hover {
    span {
      color: @color;
    }
  }
}

.dropdown-toggler(@color) {
  .@{_COMMON_PREFIX}dropdown-handle {
    &::before {
      color: @color;
    }

    &:not([disabled]):hover::before {
      color: darken(@color, 10%);
    }

    @media screen and (max-width: 720px) {
      position: static;
      display: flex;
      width: @app-header-height;
    }
  }
}

.is-processing {
  .content-publish-menu {
    cursor: default;
    pointer-events: none;

    .@{_COMMON_PREFIX}dropdown-handle,
    .action-button,
    .action-button.create-issue-action-button {
      display: none !important;
    }
  }

  .mobile-edit-publish-controls {
    display: none;
  }
}
