.content-publish-menu {
  margin-left: auto;
  height: @toolbar-height - 8;

  >.action-button {
    .menu-action-button(@admin-font-gray3, @admin-black); // default color

    &.publish-action,
    &.publish-tree-action,
    &.open-request-action{
      .menu-action-button(@admin-green);
    }

    &.create-issue-action {
      .menu-action-button(@admin-button-blue2);
    }
  }

  @media screen and (max-width: 720px) {
    border-left: 1px solid @admin-bg-light-gray;
    border-right: none;
    margin-right: 0;
  }

  @media screen and (min-width: 720px) {
    .@{_COMMON_PREFIX}dropdown-handle {
      margin-left: -10px;
    }
  }

  &.no-item {
    @media screen and (min-width: 720px) {
      .@{_COMMON_PREFIX}dropdown-handle {
        display: none;
      }
    }
  }

  .progress-bar {
    display: none;
  }

  .menu {
    right: 0;
    top: @toolbar-height;
    width: auto;
    max-width: 200px;
  }
}

.menu-action-button(@color, @hoverColor: darken(@color, 10%)) {
  @media screen and (min-width: 720px) {
    display: flex;
  }

  @media screen and (max-width: 720px) {
    display: none !important;
  }

  span {
    text-transform: uppercase;
    color: @color;
    font-family: sans-serif, "Open Sans", Helvetica;
  }

  &:not([disabled]):hover {
    span {
      color: @hoverColor;
    }
  }

  .dropdown-toggler(@color, @hoverColor);
}

.dropdown-toggler(@color, @hoverColor: darken(@color, 10%)) {
  ~ .@{_COMMON_PREFIX}dropdown-handle {
    &::before {
      color: @color;
    }

    &:not([disabled]):hover::before {
      color: @hoverColor;
    }

    @media screen and (max-width: 720px) {
      width: @toolbar-height - 8;
    }
  }
}

.is-processing {
  .content-publish-menu {
    cursor: default;
    pointer-events: none;

    .@{_COMMON_PREFIX}dropdown-handle,
    .action-button,
    .action-button.create-issue-action {
      display: none !important;
    }
  }

  .mobile-edit-publish-controls {
    display: none;
  }
}
