@attachment-uploader-height: 38px;

.attachment-uploader {
  position: relative;

  .uploader-wrapper {
    position: relative;

    .upload-button {
      position: absolute;
      right: 2px;
      top: 2px;
    }

    .uploader-el.attachment-uploader-el {
      width: 100%;
      padding-right: @attachment-uploader-height;
      box-sizing: border-box;
      border: 2px solid transparent;

      .attachment-item .remove {
        line-height: 15px;
      }

      .no-attachments-description {
        position: absolute;
        display: none;
        top: 0;
        width: calc(~'100%' - @attachment-uploader-height);
        font-size: 1.25em;
        color: @admin-font-gray2;
        line-height: @attachment-uploader-height;
        text-align: center;
      }

      &.uploading {
        width: calc(~'100% - 50px');
        margin-top: 10px;
        height: 22px;
        padding-right: 0;

        .progress-bar {
          height: 100%;
        }

        .result-container:empty + .no-attachments-description {
          display: none;
        }
      }

      &.dz-dragover {
        .dropzone-dragover-glow();
      }

      .result-container {
        position: relative;

        &:empty + .no-attachments-description {
          display: block;
        }

        .attachment-item {
          margin: 10px 0;

          .data-block {
            a {
              padding-right: 2px;
              .ellipsis();
            }
          }

          .error-block {
            color: @input-red-text;
            padding: 5px 0 0 25px;
            display: none;
          }
        }
      }

      .progress-bar {
        height: @attachment-uploader-height;
      }
    }
  }

  &:not(.error-details-visible) {
    .result-container .attachment-item {
      &.invalid {
        .data-block a {
          color: @input-red-text;
        }
      }
    }
  }

  &.invalid {
    &.error-details-visible {
      .uploader-el.attachment-uploader-el .result-container .attachment-item {
        .error-block:not(:empty) {
          display: block;
        }
      }
    }
  }
}
