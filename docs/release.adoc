= Release Notes
:toc: right

TIP: Release Notes for Content Studio 3.x can be found https://developer.enonic.com/docs/content-studio/3.x/release[here]

== Content Studio 4 Update 2

Content Studio 4.2.0 comes with several major improvements in the Filter panel.

=== New search parameters

The Filter panel have been expanded with the following parameters:

* Workflow (content that is work in progress)
* Last Modified By (user who last changed the content)
* Owner
* Language

=== Limited number of options in multi-select parameters

The list of Content Types by default shows the 5 most popular types. The entire list can be expanded with the "Show more" link.

=== Search by id

Free-text field can be used for search by content id.

:imagesdir: navigator/images
image::navigator-search-modifier-expanded.png[Filter panel, 550]

== Content Studio 4 Update 1

IMPORTANT: Content Studio 4.1 requires XP 7.9.0 or higher.

=== Content Security Policy

Content Studio 4.1 enforces <<security#content_security_policy, Content Security Policy>> (CSP) to prevent cross-site scripting, clickjacking and other code injection attacks resulting
from execution of malicious content in the trusted web page context. CSP can be configured or turned off completely (except for Page Editor) via
<<config#content_security_policy, config file>>.

=== New widget interface

Support of <<widgets#top_menu_widgets, new widget interface>> allows injection of "full-screen" widgets which will be seamlessly added to the Content Studio top menu.

:imagesdir: widgets/images
image::widgets-menu-item.png[Top menu widgets,600]

=== Collaboration

In <<editor#collaboration, collaboration mode>> Content Wizard's header will display avatar icons of all users simultaneously editing the content or simply having it opened.

:imagesdir: editor/images
image::content-wizard-collaboration.png[Collaboration, 665]

NOTE: This feature is experimental and has to be turned on via <<config#collaboration_mode, config file>>.

:imagesdir: release/images

=== "Set default" in date/time pickers

"*Set Default*" button will be displayed for Date, Time and DateTime inputs with `<default>` value set in the schema.

image::cs41-date-selector.png[Set default button, 665]

=== Customisable Numbered and Bulleted lists in HTML Area

It's now possible to change styling of Numbered and Bulleted lists in HTML Area by right-clicking the list and selecting list style from the dropdown.

image::cs41-html-area-list.png[HTML Area List, 665]

=== Other improvements

* Keyboard shortcut for content move (`Alt + M`)
* Keyboard shortcut for content search (`Shift + F`)
* Sticky footer in HTML Areas inside Content Wizard form

== Content Studio 4

IMPORTANT: Content Studio 4.0 requires XP 7.8.0 or higher.


=== Content Archive

*Archive* now effectively replaces *Delete* as default action for removing content that is no longer needed. When archived, content will
be moved to a separate storage where it can safely be restored from, rather than physically deleted. It's still possible to immediately delete
content using the dropdown menu in the Archive dialog.

Full documentation of the Content Archive feature can be found <<archive#, here>>.

image::cs40-archive-dialog.png[Archive dialog, 600]

NOTE: Access to archived contents and restore operation is provided by <<../#content_studio,Content Studio+>> application which requires Enonic license.

image::cs40-archived-content.png[Archive section, 600]
image::cs40-restore-content.png[Restore content, 600]

=== Visualisation of inbound references in the Archive dialog

When archiving/deleting content it's important to visualise if the content about to be archived/deleted has any inbound references as
the archive/delete operation may potentially break rendering of the content structure. Previously, inbound references were displayed only for the items
selected for deletion (but not for their descendants). Starting from version 4.0 visualisation of inbound references in the Delete/Archive dialog
has been improved: a special icon will be displayed for all items that have inbound references, and if at least one of the items is referenced
then there will be a separate warning about that at the top of the dialog.

image::cs40-inbound-references.png[Inbound references in the Archive dialog, 600]

=== Spell check in TextLine and TextArea input types

TextLine and TextArea inputs are now automatically checked for spelling errors.

image::cs40-spellcheck.png[Spell checking in TextLine, 400]

Read more about spell checking https://developer.enonic.com/docs/xp/stable/cms/input-types#spell_checking[here]

=== Support disabling of content path transliteration

By default, content path in the <<editor/content-form#, Content Form>> will be auto-generated based on a value typed into the display name field
and all the international letters will be automatically transliterated into their english equivalents (for example, "_/øåæ_" becomes "_/oaae_", "_/рыба_" becomes "_/ryba_" etc.)

It's now possible to turn off automatic transliteration by setting `contentWizard.allowPathTransliteration` property to `false` in the
Content Studio's <<config#, config file>>.

=== Image Component is deprecated

Image Component has been deprecated in favour of <<editor/component-types#text_component, `Text Component`>> which can be used for embedding
images and has a richer UI than Image Component used to have. Existing image components on your page will continue working, but you won't be able to add a new one.

=== Responsive Context panel

When docked, Context panel will responsively change its width based on available space with 25/75 ratio relative to the Preview panel
(in the Content Browse view) or Page Editor panel (in the Content Wizard view).

image::cs40-context-panel.png[Responsive Context panel, 600]

=== Bigger dropdowns in selectors

Height of all selector dropdowns has been increased to allow for more visible items
(9 instead of 4 in Content selectors and 3 in Image selectors).

image:cs40-content-selector.png[Content selector, 400]
image:cs40-image-selector.png[Image selector, 400]

== Upgrade notes for Content Studio 4.x

=== Admin API

Admin API has been moved from XP core to Content Studio and starting from version 4.0.0 resides directly in the Content Studio app. This will
help us release Content Studio without having to change XP and release a new version of the platform. URLs of Admin API have been changed as well.
Admin API was never intended for external use, but beware of that if you had any custom integration with Content Studio's Admin API then
this will stop working from version 4.0. As this migration affected XP as well, Content Studio 4.x requires XP 7.8.0 or higher.

=== Config allowing <script> tag in the Rich Editor

Due to security concerns, we have removed the https://developer.enonic.com/docs/content-studio/3.x/config#html_editor_xss[configuration setting]
allowing `<script>` tag in the Rich Editor. If you are using inline scripts in your HtmlArea inputs or Text components, those will be stripped out
the next time you save the content.

=== Dropped support of Internet Explorer

Internet Explorer is no longer supported by Content Studio.
