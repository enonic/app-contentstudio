def isLibAdminUiIncluded()
{
    return new File( "$rootDir/../lib-admin-ui" ).exists()
}

if ( hasEnvironment() && isLibAdminUiIncluded() )
{
    def libAdminUi = gradle.includedBuild( 'lib-admin-ui' )
    def excludedTasks = gradle.startParameter.getExcludedTaskNames().findAll( { it == 'lint' || it == 'test' } )
    libAdminUi.getLoadedSettings().getStartParameter().setExcludedTaskNames( excludedTasks )
}

ext {
    isLibAdminUiIncluded = this.&isLibAdminUiIncluded
    libAdminBuildTask = gradle.includedBuild( 'lib-admin-ui' ).task( ':build' )
    libAdminCleanTask = gradle.includedBuild( 'lib-admin-ui' ).task( ':clean' )
    libAdminFlushTask = gradle.includedBuild( 'lib-admin-ui' ).task( ':flush' )
}
